<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Journal Dashboard</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to external CSS -->
    <style>
        :root {
            --background-light: #ffffff;
            --text-light: #000000;
            --button-light: #007BFF;
            --button-text-light: #ffffff;
            --background-dark: #1e1e1e;
            --text-dark: #ffffff;
            --button-dark: #444;
            --button-text-dark: #ffffff;
            --profit-color: #28a745;
            --loss-color: #dc3545;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--background-light);
            color: var(--text-light);
            transition: background 0.3s, color 0.3s;
        }
        nav ul {
            list-style: none;
            padding: 0;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }
        nav ul li {
            display: inline;
        }
        nav ul li a {
            text-decoration: none;
            padding: 10px 15px;
            background-color: var(--button-light);
            color: var(--button-text-light);
            border-radius: 5px;
            transition: background 0.3s, color 0.3s;
        }
        .dark-mode {
            background-color: var(--background-dark);
            color: var(--text-dark);
        }
        .dark-mode nav ul li a {
            background-color: var(--button-dark);
            color: var(--button-text-dark);
        }
        #current-date {
            text-align: left;
            margin-left: 20px;
            margin-top: 10px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 34px;
            height: 20px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #007BFF;
        }
        input:checked + .slider:before {
            transform: translateX(14px);
        }
        .status-bar {
            display: flex;
            justify-content: flex-start;
            margin: 20px auto;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            width: 75%;
        }
        .status-box {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            width: 30%;
            justify-content: center;
            font-weight: bold;
            gap: 10px;
        }
        .profit { background-color: var(--profit-color); color: white; }
        .loss { background-color: var(--loss-color); color: white; }
        #daily-pl {
            margin-left: 20px; /* Aligning with username */
        }
    </style>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <header>
        <h1 id="username">User Name</h1>
        <p id="current-date"></p>
        <nav>
            <ul>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="notebook.html">Notebook</a></li>
                <li><a href="analytics.html">Analytics</a></li>
                <li>
                    <label class="switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider"></span>
                    </label>
                </li>
                <li><a href="#" id="logout">Logout</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="status-bar">
        <div class="status-box profit" id="daily-pl">
            ðŸ“ˆ Daily P&L: +â‚¹5000
        </div>
        <div class="status-box" id="win-rate">
            ðŸŽ¯ Win Rate: 75%
        </div>
        <div class="status-box" id="average-deployed-capital">
            ðŸ’° Avg Deployed Capital: â‚¹1,00,000
        </div>
		<div class="donut-chart-container">
             <h3>Total Trades: <span id="total-trades">100</span></h3>
             <canvas id="winRateChart"></canvas>
        </div>

    </div>
    
    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const ctx = document.getElementById('winRateChart').getContext('2d');

        // Sample Data: 75% Win Rate, 25% Loss Rate
        const winRate = 75;
        const lossRate = 100 - winRate; 

        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Wins', 'Losses'],
                datasets: [{
                    data: [winRate, lossRate],
                    backgroundColor: ['#28a745', '#dc3545'], // Green for wins, Red for losses
                    hoverBackgroundColor: ['#218838', '#c82333']
                }]
            },
            options: {
                cutout: '70%', // Makes it look like a donut
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: true }
                }
            }
        });

        // Set the total trades count (modify dynamically if needed)
        document.getElementById('total-trades').textContent = 100;
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Theme Toggle
        const themeToggle = document.getElementById("theme-toggle");
        const isDarkMode = localStorage.getItem("dark-mode") === "enabled";

        // Apply saved theme
        if (isDarkMode) {
            document.body.classList.add("dark-mode");
            themeToggle.checked = true;
        }

        themeToggle.addEventListener("change", function () {
            if (this.checked) {
                document.body.classList.add("dark-mode");
                localStorage.setItem("dark-mode", "enabled"); // Save mode
            } else {
                document.body.classList.remove("dark-mode");
                localStorage.setItem("dark-mode", "disabled"); // Save mode
            }
        });

        // Set current date
        document.getElementById("current-date").textContent = new Date().toDateString();

        // Logout Button (Dummy Functionality)
        document.getElementById("logout").addEventListener("click", function () {
            alert("Logging out...");
        });

        // Initialize Donut Chart
        const ctx = document.getElementById('winRateChart').getContext('2d');
        const winRate = 75;
        const lossRate = 100 - winRate;

        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Wins', 'Losses'],
                datasets: [{
                    data: [winRate, lossRate],
                    backgroundColor: ['#28a745', '#dc3545'],
                    hoverBackgroundColor: ['#218838', '#c82333']
                }]
            },
            options: {
                cutout: '70%',
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: true }
                }
            }
        });

        document.getElementById('total-trades').textContent = 100;
    });
</script>

</body>
</html>
